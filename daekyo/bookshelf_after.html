<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no, target-densityDpi=device-dpi">
  <!-- (safari) 전화번호 형태로 된 문자열을 전화로 자동호출하지 못하게 함 -->
  <meta name="format-detection" content="telephone=no">
  <!-- favicon mobile -->
  <link rel="apple-touch-icon" sizes="180x180" href="resources/images/favicon/apple-touch-icon.png">
  <link rel="manifest" href="resources/images/favicon/site.webmanifest">
  <!-- css -->
  <link rel="stylesheet" href="resources/css/font.css">
  <link rel="stylesheet" href="resources/css/reset.css">
  <link rel="stylesheet" type="text/css" href="resources/css/fullCalendar.min.css">
  <link rel="stylesheet" href="resources/css/teacher_ver_m.css">
  <!-- js -->
  <script type="text/javascript" src="resources/js/jquery-1.11.2.min.js"></script>
  <script type="text/javascript" src="resources/js/fullCalendar.js"></script>
  <script type="text/javascript" src="resources/js/fullCalendar_locale_ko.js"></script>
  <script type="text/javascript" src="resources/js/moment.min.js"></script>
  <title>독후활동보기</title>
</head>

<body>
  <div id="wrap">
    <!-- header -->
    <div id="header">
      <!-- header_bar -->
      <div class="header_bar">
        <div class="fl">
          <!-- [D] .btn_prev 페이지 뒤로가기 버튼에 class="hide"를 붙히면 display: none이 됩니다 -->
          <button type="button" class="btn_prev">
            <img src="resources/images/ico_back.svg" alt="뒤로가기">
          </button>
        </div>
        <h1 class="img_box">
          <img src="resources/images/logo_daekyo.svg" alt="대교 상상 키즈 로고">
        </h1>
        <div class="fr">
          <button type="button" class="gnb_open">
            <img src="resources/images/ico_menu.svg" alt="메뉴 열기">
          </button>
        </div>
      </div>
      <!-- //header_bar -->

      <!-- gnb -->
      <div id="gnb">
        <div class="gnb_box gnb_logo">
          <div class="img_box">
            <img src="resources/images/logo_daekyo_kids.svg" alt="대교 상상 키즈 로고">
          </div>
        </div>
        <!-- [D] gnb메뉴 중 방문시간표, 방문관리, 정산내역, 마이프로필에 새로 (.scd_disable_menu) 클래스 추가됨 -->
        <!-- [D] .scd_disable_menu 메뉴에 스케줄 활성여부 옵션에 따라 toggleclass(.disabled)됨  -->
        <div class="gnb_box gnb_card">
          <a href="visit_timetable.html" class="card scd_disable_menu">
            <img src="resources/images/ico_clock.svg" alt="방문시간표">
            <img src="resources/images/ico_clock_wg.svg" alt="방문시간표 비활성화">
            <span class="primary_text primary_text_s">
              방문시간표
            </span>
          </a>
          <a href="visit_management.html" class="card scd_disable_menu">
            <img src="resources/images/ico_schedule.svg" alt="방문관리">
            <img src="resources/images/ico_schedule_wg.svg" alt="방문관리 비활성화">
            <span class="primary_text primary_text_s">
              방문관리
            </span>
          </a>
          <a href="schedule_set.html" class="card">
            <img src="resources/images/ico_calendar.svg" alt="스케줄 설정">
            <span class="primary_text primary_text_s">
              스케줄 설정
            </span>
          </a>
          <a href="#none" class="card scd_disable_menu">
            <img src="resources/images/ico_folder.svg" alt="정산내역">
            <img src="resources/images/ico_folder_wg.svg" alt="정산내역 비활성화">
            <span class="primary_text primary_text_s">
              정산내역
            </span>
          </a>
          <a href="notice.html" class="card">
            <img src="resources/images/ico_list.svg" alt="공지사항">
            <span class="primary_text primary_text_s">
              공지사항
            </span>
          </a>
          <a href="use_information.html" class="card">
            <img src="resources/images/ico_page.svg" alt="자주묻는 질문">
            <span class="primary_text primary_text_s">
              자주묻는 질문
            </span>
          </a>
        </div>
        <div class="gnb_box gnb_card">
          <a href="profile.html" class="card scd_disable_menu">
            <img src="resources/images/ico_profile.svg" alt="My 프로필">
            <img src="resources/images/ico_profile_wg.svg" alt="My 프로필 비활성화">
            <span class="primary_text primary_text_s">
              My&nbsp;&nbsp;프로필
            </span>
          </a>
          <a href="#none" class="card">
            <img src="resources/images/ico_key.svg" alt="비밀번호 변경">
            <span class="primary_text primary_text_s">
              비밀번호 변경
            </span>
          </a>
          <a href="login.html" class="card">
            <img src="resources/images/ico_logout.svg" alt="로그아웃">
            <span class="primary_text primary_text_s">
              로그아웃
            </span>
          </a>
        </div>
        <div class="gnb_box">
          <a href="resources/video/sample_video.mp4" class="btn_movie">
            <img src="resources/images/ico_play.svg" alt="영상 바로가기">
            <span class="primary_text primary_text_s">우동선생님, 이렇게 활동하세요!</span>
          </a>
        </div>
      </div>
      <!-- //gnb -->
    </div>
    <!-- //header -->

    <!-- m_container -->
    <div id="m_container">
      <!-- reading_after -->
      <div class="reading_after">
        <h2 class="page_title">독후활동 보기</h2>

        <!-- book_list -->
        <ul class="book_list">
          <!-- book -->
          <li class="book">
            <div class="img_box">
              <!-- [D]
                이미지 미등록 시 보여지는 기본이미지
                img_book2x_d1.png

                이미지 등록 시에는 아래 두군데 모두 같은 이미지로 바뀌어야 합니다.
                .book_list > .book > .img_box > img
                #view_after_reading > cont_box > img_box > img
              -->
              <img src="resources/images/img_book2x_d1.png" alt="독서하는 처음 습관, 대교 소빅스가 잡아드립니다.">
            </div>
            <div class="desc">
              <span class="desc_title">무엇이 세상에서 가장 클까요? 아이들의 호기심과 상상력을 자극하는 책이에요.</span>
              <div class="like">
                <span>9999</span>
              </div>
            </div>
            <a href="#view_after_reading" class="alert_open"><span class="text_invisible">독후활동 상세보기</span></a>
          </li>
          <!-- //book -->

          <!-- book -->
          <li class="book">
            <div class="img_box">
              <img src="resources/images/img_book2x_d1.png" alt="독서하는 처음 습관, 대교 소빅스가 잡아드립니다.">
            </div>
            <div class="desc">
              <span class="desc_title">아이들의 호기심과 상상력을 자극하는 책이에요.</span>
              <div class="like">
                <span>9999</span>
              </div>
            </div>
            <a href="#view_after_reading" class="alert_open"><span class="text_invisible">독후활동 상세보기</span></a>
          </li>
          <!-- //book -->

          <!-- book -->
          <li class="book">
            <div class="img_box">
              <img src="resources/images/img_book2x_d1.png" alt="독서하는 처음 습관, 대교 소빅스가 잡아드립니다.">
            </div>
            <div class="desc">
              <span class="desc_title">아이들의 호기심과 상상력을 자극하는 책이에요.</span>
              <div class="like">
                <span>9999</span>
              </div>
            </div>
            <a href="#view_after_reading" class="alert_open"><span class="text_invisible">독후활동 상세보기</span></a>
          </li>
          <!-- //book -->

          <!-- book -->
          <li class="book">
            <div class="img_box">
              <img src="resources/images/img_book2x_d1.png" alt="독서하는 처음 습관, 대교 소빅스가 잡아드립니다.">
            </div>
            <div class="desc">
              <span class="desc_title">아이들의 호기심과 상상력을 자극하는 책이에요.</span>
              <div class="like">
                <span>9999</span>
              </div>
            </div>
            <a href="#view_after_reading" class="alert_open"><span class="text_invisible">독후활동 상세보기</span></a>
          </li>
          <!-- //book -->

          <!-- book -->
          <li class="book">
            <div class="img_box">
              <img src="resources/images/img_book2x_d1.png" alt="독서하는 처음 습관, 대교 소빅스가 잡아드립니다.">
            </div>
            <div class="desc">
              <span class="desc_title">아이들의 호기심과 상상력을 자극하는 책이에요.</span>
              <div class="like">
                <span>9999</span>
              </div>
            </div>
            <a href="#view_after_reading" class="alert_open"><span class="text_invisible">독후활동 상세보기</span></a>
          </li>
          <!-- //book -->
        </ul>
        <!-- //book_list -->
      </div>
      <!-- //reading_after -->
    </div>
    <!-- //m_container -->
  </div>
  <!-- //wrap -->

  <!-- layer alert -->
  <!-- 독후활동상세보기 -->
  <div id="view_after_reading" class="alert_box alert_pop">
    <div class="lyr_cont">
      <div class="title_box">
        <span class="title">독후활동 상세보기</span>
      </div>

      <div class="cont_box">
        <div class="img_box">
          <!-- [D]
            이미지 미등록 시 보여지는 기본이미지
            img_book2x_d2.png

            이미지 등록 시에는 아래 두군데 모두 같은 이미지로 바뀌어야 합니다.
            .book_list > .book > .img_box > img
            #view_after_reading > cont_box > img_box > img
          -->
          <img src="resources/images/img_book2x_d2.png" alt="대교 소빅스, 우리 아이가 꿈꾸는 스토리의 모든 것">
        </div>

        <!-- audio_player -->
        <div class="audio_player">
          <div class="button-items">
            <audio id="sound" preload="auto">
              <source src="resources/sample/audio/Dylan Rockoff-Awesome.mp3">
            </audio>

            <div class="controls">
              <button type="button" id="play" style="display: block;">
              </button>
              <button type="button" id="pause" style="display: none;">
              </button>
            </div>
            <div class="audio_timer">
              <div class="audio_loading"><span class="text_invisible">로딩중</span></div>
              <span id="timer">0&colon;00</span>
            </div>
            <div id="slider" class="slider">
              <div id="elapsed" class="elapsed"></div>
            </div>
            <span id="timer_endtime">0&colon;04</span>
          </div>
        </div>
        <!-- //audio_player -->

        <!-- book -->
        <div class="book">
          <div class="like">
            <div class="fl info">
              <span>상상키즈다은이</span>
              <em>2020.08.08</em>
            </div>
            <span>9999</span>
          </div>

          <div class="desc">
            <span class="desc_title">아이들의 호기심과 상상력을 자극하는 책이에요. 크기를 단순히 단위로 나타내어 표현하지 않고, 비교를 통해 알려줘요.</span>
            <p>무엇이 세상에서 가장 클까요? 아이들의 호기심과 상상력을 자극하는 책이에요. 크기를 단순히 단위로 나타내어 표현하지 않고, 비교를 통해 알려줘요. 처음에는 흰긴수염고래의 꼬리지느러미에서 시작돼요. 무엇이 세상에서 가장 클까요? 아이들의 호기심과 상상력을 자극하는 책이에요. 크기를 단순히 단위로 나타내어 표현하지 않고, 비교를 통해 알려줘요. 처음에는 흰긴수염고래의 꼬리지느러미에서 시작돼요.</p>
          </div>
        </div>
        <!-- ///book -->
      </div>
    </div>

    <div class="lyr_btm">
      <button type="button" class="alert_close">닫기</button>
    </div>
  </div>
  <!-- //독후활동상세보기 -->
  <!-- //layer alert -->

<!-- 공통 script -->
<script type="text/javascript">
$(document).ready(function(){
  // 공통 AMR gnb 열기/닫기
  $('.gnb_open').on('click', function(e) {
    e.stopPropagation();
    handleGndClose();

    $('body').addClass('gnb_backdrop');
    $('#gnb').addClass('show');

    setTimeout(function () {
      $('#gnb').addClass('on');
    }, 100);

    // gnd 닫기
    function handleGndClose() {
      // gnb에서 클릭 시 버블링 막기
      $('#gnb').on('click', function(e) {
        e.stopPropagation();
      })

      // gnb를 제외한 body를 클릭
      $('body').on('click', function(e) {
        if ($('body').hasClass('gnb_backdrop')) {
          $('#gnb').removeClass('on');
          setTimeout(function () {
            $('#gnb').removeClass('show');
            $('body').removeClass('gnb_backdrop');
          }, 200);
        }
      })
    }
  });

  // 공통 200810 AMR 얼럿 레이어 열기/닫기
  $('.alert_open').on('click', function(e){
    var thisHref = $(this).attr('href');

    e.stopPropagation();
    handleLyrClose(); //레이어 닫기

    $('body').addClass('lyr_backdrop'); //body에 백그라운드 적용
    $(thisHref).css({'display': 'block'}); //클릭한 a의 href와 동일한 레이어만 block

    setTimeout(function(){
      $(thisHref).addClass('on') //레이어 오픈 효과 적용
    }, 100);
  })

  // 공통 얼럿 레이어 닫기
  function handleLyrClose() {
    // 레이어 닫기버튼 클릭
    $('.alert_close').on('click', function(){
      $('.alert_box').removeClass('on');

      setTimeout(function(){
        $('body').removeClass('lyr_backdrop');
        $('.alert_box').css({'display': 'none'});
        $('.alert_close').off('click');
      }, 200);
    })
  }

  // 공통 수정 200819 AMR input이 focus되어 있을 때 스크롤을 하면 가상키보드가 닫힘
  $('input').focus(function(){
    handleInputKeyboard($('#m_container'), $(document));
    handleInputKeyboard($('.lyr_box, .alert_box, .lyr_backdrop'), $('.lyr_box, .alert_box, .lyr_backdrop'));
  });

  function handleInputKeyboard(touchStartEl, touchEndEl) {
    touchStartEl.on('touchstart', function (e) {
      touchEndEl.on('touchmove touchend', function (e) {
        touchEndEl.off('touchmove touchend');
        $('input').blur();
      });
    });
  }

  // 공통 NBR tap list 열기/닫기
  function handleTapList() {
    var setBtn = $('.set_btn_box li');
    var setCont = $('.set_board > div');
    setCont.hide();
    setCont.eq(0).show();
    setBtn.on('click', function () {
      var target = $(this);
      var index = target.index();
      setBtn.removeClass('on');
      target.addClass('on');
      setCont.css('display', 'none');
      setCont.eq(index).css('display', 'block');
    });
  }
  handleTapList();

  // 공통 AMR 200810 bg_effect를 가진 button과 a가 active되면 background 디자인 적용
  $('button.bg_effect, a.bg_effect').on('touchstart touchend', function () {
    $(this).toggleClass('on');
  });
})
</script>
<!-- //공통 script -->

<!-- 개별 페이지 script -->
<script type="text/javascript">
$(document).ready(function () {
  // AMR 200824 래아어 오픈시 오디오 함수 실행
  $('.alert_open').on('click', function(){
    handleAudio();
  })

  // AMR 200824 오디오 파일의 총시간/진행된시간 표시, 레이어 닫을 때 오디오 상태 변경 함수
  function handleAudio(){
    var audioElement = document.getElementById('sound');
    var audioDuration = audioElement.duration;
    var audioRoundDuration = Math.ceil(audioDuration)

    $("#timer_endtime").text(createAudioTimeFormat(audioRoundDuration));//오디오의 총 시간표시

    audioElement.addEventListener("timeupdate", function () {//오디오의 진행된 시간표시
      var audioCurrentTime = audioElement.currentTime;
      var audioParseCurrentTime = Math.ceil(audioCurrentTime)
      $('.audio_timer').removeClass('loading');
      $("#timer").text(createAudioTimeFormat(audioParseCurrentTime));
    });

    audioElement.addEventListener('ended', function () {//오디오가 끝나면 처음 시간으로 돌아감
      audioElement.currentTime = 0
    });

    //오디오 총시간/진행된시간 포맷팅
    function createAudioTimeFormat(sec){
      var minutes = Math.floor(sec/60);
      var second = String(sec%60)
      if ( second.length === 1 ) {
        second = '0' + second;
      }
      return minutes + ':' + second
    }

    // play 버튼 이벤트
    $('#play').click(function () {
      $(this).css({'display': 'none'});
      $('#pause').css({'display': 'block'});
      $('.audio_timer').addClass('loading');
      audioElement.play();
    });

    // pause 일시정지 버튼 이벤트
    $('#pause').click(function () {
      $(this).css({'display': 'none'});
      $('#play').css({'display': 'block'});
      audioElement.pause();
    });

    // 얼럿레이어를 닫으면 오디오 세팅 초기화
    $('.alert_close').on('click', function(){
      audioElement.pause();
      audioElement.currentTime = 0
      $('#play').css({'display': 'block'});
      $('#pause').css({'display': 'none'});
    })
  }
});
</script>
<!-- 개별 페이지 script -->
</body>
</html>
