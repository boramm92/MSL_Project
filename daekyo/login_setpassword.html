<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- css -->
  <link rel="stylesheet" href="resources/css/font.css">
  <link rel="stylesheet" href="resources/css/reset.css">
  <link rel="stylesheet" href="resources/css/teacher_ver_m.css">
  <!-- js -->
  <script type="text/javascript" src="resources/js/jquery-1.11.2.min.js"></script>

  <title>login-set password</title>
</head>
<body class="body_fixed">
  <div id="wrap">
    <div id="m_container">
      <!-- fixed_login -->
      <div id="fixed_login">
        <!-- visual -->
        <div class="visual">
          <img src="resources/images/logo_daekyo_kids.svg" class="visual_logo" alt="대교 상상 키즈 로고">
        </div>
        <!-- //visual -->

        <!-- login_area -->
        <div class="login_area set_pass">
          <span class="title">비밀번호 재설정</span>
          <input type="password" class="input_txt" placeholder="새로운 비밀번호를 입력하세요.">
          <input type="password" class="input_txt" placeholder="다시 한번 입력하세요.">

          <div class="user_check">
            <p class="primary_text_s">
              &#42; <em>영문, 숫자, 특수문자</em>를 포함하여 <em>8자 이상 16자 이하</em>로 안전한 비밀번호를 설정해주세요.
            </p>

            <!-- [D] 비밀번호 warning -->
            <!-- <p class="primary_text_s t_warning">
              &#42; <em>영문, 숫자, 특수문자</em>를 포함하여 <em>8자 이상 16자 이하</em>로 안전한 비밀번호를 설정해주세요.
            </p> -->

            <!-- [D] 비밀번호가 일치하지 않을 경우 -->
            <!-- <p class="primary_text_s t_warning">
              &#42; 입력하신 비밀번호가 일치하지 않습니다. 동일한 비밀번호를 입력하세요.
            </p> -->



          </div>
        </div>
        <!-- //login_area -->
      </div>
      <!-- //fixed_login -->

      <button type="button" id="btn_login">확인</button>
    </div>
  </div>

<script type="text/javascript">
$(document).ready(function(){
 // 공통 login 200723 AMR 레이어 열기/닫기
 $('.lyr_open').on('click', function(e){
    var thisHref = $(this).attr('href');

    e.stopPropagation();
    handleLyrClose(); //레이어 닫기

    $('body').addClass('lyr_backdrop'); //body에 백그라운드 적용
    $(thisHref).css({'display': 'block'}); //클릭한 a의 href와 동일한 레이어만 block

    setTimeout(function(){
      $(thisHref).addClass('on') //레이어 오픈 효과 적용
    }, 100);
  })

  // 레이어 닫기
  function handleLyrClose() {
    // 레이어에서 클릭 시 버블링 막기
    $('.lyr_box').on('click', function(e){
      e.stopPropagation()
    })
    
    // 레이어 닫기버튼 클릭
    $('.lyr_close').on('click', function(){
      $('.lyr_box').removeClass('on');

      setTimeout(function(){
        $('body').removeClass('lyr_backdrop');
      }, 200);
    })

    // 레이어를 제외한 body를 클릭
    $('body').on('click', function () {
      if ($(this).hasClass('lyr_backdrop')) {
        $('.lyr_box').removeClass('on');

        setTimeout(function () {
          $('body').removeClass('lyr_backdrop');
        }, 200);
      }
    })
  }

  // 공통 input이 focus되어 있을 때 input이 아닌 영역에 touch를 하거나, 스크롤을 하면 가상키보드가 닫힘
  $('input[type="text"], input[type="password"], input[type="tel"], input[type="email"]').focus(function(){
    var $this = $(this);

    handleInputKeyboard();
    function handleInputKeyboard() {
      $('#m_container').on('touchstart', function(e) {
        var delX = 0;
        var startX = e.originalEvent.touches[0].clientX;
        
        $(document).on('touchmove', function(e) {
          delX = e.originalEvent.touches[0].clientX - startX;
          
          if ( delX > 50 || delX < -50 ) {
            $(document).off('touchmove');
            $this.blur();
          }
        })

        $(document).on('touchend', function(e){
          $(document).off('touchmove touchend');
          $this.blur();
        })
      });
    }
  });

  // 개별 200729 AMR
  var $body = $('body');

  $('input').on('focus', function () {
    $body.removeClass('body_fixed');
  })

  $('input').on('blur', function () {
    $body.addClass('body_fixed');
  })
})
</script>
</body>
</html>